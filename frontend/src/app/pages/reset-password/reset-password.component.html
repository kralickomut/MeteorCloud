<div class="login-page d-flex justify-content-center align-items-center min-vh-100">
  <div class="login-container shadow rounded-4 overflow-hidden">
    <!-- Left Panel -->
    <div class="login-left d-flex flex-column justify-content-center align-items-center p-4">
      <img src="assets/img/hero.png" alt="Hero" class="login-illustration mb-4" />
      <h4 class="text-white mb-2">New brain access, huh?</h4>
      <p class="text-white-50 text-center small">
        {{ welcomeText }}
      </p>
    </div>

    <!-- Right Panel -->
    <div class="login-right p-4 d-flex flex-column justify-content-center">
      <ng-container *ngIf="!resetSuccess; else successBlock">
        <h2 class="mb-4 text-center"><b>Reset Password</b></h2>

        <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
          <p-floatLabel>
            <input id="newPassword" pInputText type="password" formControlName="newPassword" />
            <label for="newPassword">New Password</label>
            <small class="text-danger" *ngIf="f['newPassword'].touched && f['newPassword'].errors?.['required']">
              Password is required
            </small>
            <small class="text-danger" *ngIf="f['newPassword'].errors?.['minlength']">
              Password must be at least 6 characters
            </small>
          </p-floatLabel>

          <div *ngIf="errorMessage" class="alert alert-danger text-sm mt-2 text-center">
            {{ errorMessage }}
          </div>

          <button type="submit"
                  pButton
                  label="Reset Password"
                  class="p-button-primary p-button-rounded mt-2"
                  [disabled]="form.invalid">
          </button>
        </form>

        <p class="text-center mt-3 small">
          Remembered your password?
          <a routerLink="/login" class="text-primary text-decoration-none fw-semibold">Log in</a>
        </p>
      </ng-container>

      <!-- ðŸŽ‰ Success animation -->
      <ng-template #successBlock>
        <div class="text-center">
          <div class="checkmark-circle mb-3">
            <div class="checkmark draw"></div>
          </div>
          <h4 class="text-success fw-bold mb-2">Password Updated!</h4>
          <p class="text-muted small">Redirecting to login...</p>
        </div>
      </ng-template>
    </div>
  </div>
</div>
